<Page x:Class="GymManagementSystem.Views.Pages.DashboardPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      Title="Dashboard">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="30">
            <TextBlock Text="Dashboard" FontSize="28" FontWeight="Bold" Margin="0,0,0,20"/>

            <!-- Statistics Cards -->
            <Grid Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Total Members Card -->
                <materialDesign:Card Grid.Column="0" Margin="0,0,10,0" Background="#2196F3">
                    <StackPanel Margin="20">
                        <materialDesign:PackIcon Kind="AccountGroup" Width="40" Height="40" 
                                                 Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="txtTotalMembers" Text="0" 
                                   FontSize="32" FontWeight="Bold" 
                                   Foreground="White" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                        <TextBlock Text="Total Members" 
                                   FontSize="14" Foreground="White" 
                                   HorizontalAlignment="Center" Opacity="0.9"/>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Today's Attendance Card -->
                <materialDesign:Card Grid.Column="1" Margin="10,0,10,0" Background="#4CAF50">
                    <StackPanel Margin="20">
                        <materialDesign:PackIcon Kind="ClipboardCheck" Width="40" Height="40" 
                                                 Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="txtTodayAttendance" Text="0" 
                                   FontSize="32" FontWeight="Bold" 
                                   Foreground="White" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                        <TextBlock Text="Today's Attendance" 
                                   FontSize="14" Foreground="White" 
                                   HorizontalAlignment="Center" Opacity="0.9"/>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Active Memberships Card -->
                <materialDesign:Card Grid.Column="2" Margin="10,0,10,0" Background="#FF9800">
                    <StackPanel Margin="20">
                        <materialDesign:PackIcon Kind="CardMembership" Width="40" Height="40" 
                                                 Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="txtActiveMembers" Text="0" 
                                   FontSize="32" FontWeight="Bold" 
                                   Foreground="White" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                        <TextBlock Text="Active Memberships" 
                                   FontSize="14" Foreground="White" 
                                   HorizontalAlignment="Center" Opacity="0.9"/>
                    </StackPanel>
                </materialDesign:Card>

                <!-- Payments Due Card -->
                <materialDesign:Card Grid.Column="3" Margin="10,0,0,0" Background="#F44336">
                    <StackPanel Margin="20">
                        <materialDesign:PackIcon Kind="AlertCircle" Width="40" Height="40" 
                                                 Foreground="White" HorizontalAlignment="Center"/>
                        <TextBlock x:Name="txtPaymentsDue" Text="0" 
                                   FontSize="32" FontWeight="Bold" 
                                   Foreground="White" HorizontalAlignment="Center" Margin="0,10,0,0"/>
                        <TextBlock Text="Payments Due" 
                                   FontSize="14" Foreground="White" 
                                   HorizontalAlignment="Center" Opacity="0.9"/>
                    </StackPanel>
                </materialDesign:Card>
            </Grid>

            <!-- Recent Attendance -->
            <materialDesign:Card Margin="0,0,0,20">
                <StackPanel Margin="20">
                    <TextBlock Text="Today's Attendance" FontSize="20" FontWeight="Bold" Margin="0,0,0,15"/>
                    <DataGrid x:Name="dgTodayAttendance" 
                              AutoGenerateColumns="False" 
                              IsReadOnly="True"
                              CanUserAddRows="False"
                              MaxHeight="300">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Member Name" Binding="{Binding MemberName}" Width="*"/>
                            <DataGridTextColumn Header="Check-In Time" Binding="{Binding CheckInTime}" Width="150"/>
                            <DataGridTextColumn Header="Type" Binding="{Binding AttendanceType}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </materialDesign:Card>

            <!-- Payments Due Soon -->
            <materialDesign:Card>
                <StackPanel Margin="20">
                    <TextBlock Text="Upcoming Payment Dues" FontSize="20" FontWeight="Bold" Margin="0,0,0,15"/>
                    <DataGrid x:Name="dgPaymentsDue" 
                              AutoGenerateColumns="False" 
                              IsReadOnly="True"
                              CanUserAddRows="False"
                              MaxHeight="300">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Member Name" Binding="{Binding MemberName}" Width="*"/>
                            <DataGridTextColumn Header="Package" Binding="{Binding PackageName}" Width="150"/>
                            <DataGridTextColumn Header="Due Date" Binding="{Binding DueDate}" Width="120"/>
                            <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </materialDesign:Card>
        </StackPanel>
    </ScrollViewer>
</Page>
