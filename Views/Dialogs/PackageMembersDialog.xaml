<Window x:Class="GymManagementSystem.Views.Dialogs.PackageMembersDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Package Members" 
        Height="600" Width="900"
        WindowStartupLocation="CenterOwner"
        Background="{DynamicResource MaterialDesignPaper}">
    <Grid Margin="30">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock x:Name="txtPackageName" Text="Package Members" FontSize="24" FontWeight="Bold"/>
            <TextBlock x:Name="txtPackageInfo" Text="Package Details" FontSize="14" Foreground="#5f6368" Margin="0,5,0,0"/>
            <TextBlock x:Name="txtMemberCount" Text="Total Members: 0" FontSize="14" FontWeight="SemiBold" Foreground="#00BFA5" Margin="0,5,0,0"/>
        </StackPanel>

        <!-- Members List -->
        <materialDesign:Card Grid.Row="1">
            <DataGrid x:Name="dgMembers" 
                      AutoGenerateColumns="False" 
                      IsReadOnly="True"
                      CanUserAddRows="False"
                      SelectionMode="Single">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="ID" Binding="{Binding MemberId}" Width="60"/>
                    <DataGridTextColumn Header="Full Name" Binding="{Binding FullName}" Width="*"/>
                    <DataGridTextColumn Header="Phone" Binding="{Binding PhoneNumber}" Width="120"/>
                    <DataGridTextColumn Header="Email" Binding="{Binding Email}" Width="180"/>
                    <DataGridTextColumn Header="Registration Date" Binding="{Binding RegistrationDate, StringFormat=dd/MM/yyyy}" Width="140"/>
                    <DataGridTextColumn Header="Payment Status" Binding="{Binding PaymentStatus}" Width="120">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Style.Triggers>
                                    <Trigger Property="Text" Value="Paid">
                                        <Setter Property="Foreground" Value="#4CAF50"/>
                                        <Setter Property="FontWeight" Value="SemiBold"/>
                                    </Trigger>
                                    <Trigger Property="Text" Value="Due Soon">
                                        <Setter Property="Foreground" Value="#FF9800"/>
                                        <Setter Property="FontWeight" Value="SemiBold"/>
                                    </Trigger>
                                    <Trigger Property="Text" Value="Overdue">
                                        <Setter Property="Foreground" Value="#F44336"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>
                    <DataGridCheckBoxColumn Header="Active" Binding="{Binding IsActive}" Width="70"/>
                </DataGrid.Columns>
            </DataGrid>
        </materialDesign:Card>

        <!-- Close Button -->
        <Button Grid.Row="2" 
                Content="CLOSE" 
                Style="{StaticResource MaterialDesignRaisedButton}"
                Width="100"
                Height="40"
                HorizontalAlignment="Right"
                Margin="0,20,0,0"
                Click="btnClose_Click"/>
    </Grid>
</Window>
