<Window x:Class="GymManagementSystem.Views.Dialogs.MemberAttendanceHistoryDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Member Attendance History" 
        Height="600" Width="800"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource MaterialDesignPaper}">
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#00BFA5" Padding="20">
            <StackPanel>
                <TextBlock x:Name="txtMemberName" Text="Member Name" 
                           FontSize="22" FontWeight="Bold" Foreground="White"/>
                <TextBlock x:Name="txtMemberInfo" Text="Phone | NIC" 
                           FontSize="13" Foreground="White" Opacity="0.9" Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Attendance List -->
        <DataGrid x:Name="dgAttendanceHistory" 
                  Grid.Row="1"
                  AutoGenerateColumns="False" 
                  IsReadOnly="True"
                  CanUserAddRows="False"
                  Margin="20">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Date" Binding="{Binding DateDisplay}" Width="120"/>
                <DataGridTextColumn Header="Check-In" Binding="{Binding CheckInDisplay}" Width="100"/>
                <DataGridTextColumn Header="Check-Out" Binding="{Binding CheckOutDisplay}" Width="100"/>
                <DataGridTextColumn Header="Duration" Binding="{Binding DurationDisplay}" Width="100"/>
                <DataGridTextColumn Header="Type" Binding="{Binding AttendanceType}" Width="100"/>
                <DataGridTextColumn Header="Remarks" Binding="{Binding Remarks}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Footer -->
        <Border Grid.Row="2" BorderBrush="#e0e0e0" BorderThickness="0,1,0,0" Padding="20">
            <Grid>
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="CalendarCheck" Width="20" Height="20" 
                                             Foreground="#00BFA5" VerticalAlignment="Center" Margin="0,0,8,0"/>
                    <TextBlock x:Name="txtTotalAttendance" Text="Total Attendance: 0 days" 
                               FontSize="14" FontWeight="SemiBold" VerticalAlignment="Center"/>
                </StackPanel>
                
                <Button Content="CLOSE" 
                        Style="{StaticResource MaterialDesignRaisedButton}"
                        Width="100" Height="40"
                        HorizontalAlignment="Right"
                        Click="btnClose_Click"/>
            </Grid>
        </Border>
    </Grid>
</Window>
